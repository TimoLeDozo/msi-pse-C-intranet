<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MSI Propales ¬∑ Neural Console B2</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Share+Tech+Mono&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="/assets/css/main.css" />
  <script src="/assets/js/app.js" defer></script>
</head>

<body>
  <div class="neural-background"></div>
  <div class="geometric-shapes">
    <div class="shape"></div><div class="shape"></div><div class="shape"></div><div class="shape"></div>
  </div>

  <header id="mainHeader">
    <a href="#" class="logo">
      <img class="icam-logo-custom" src="https://upload.wikimedia.org/wikipedia/fr/thumb/1/1d/Logo_ICAM_-_2008.svg/1200px-Logo_ICAM_-_2008.svg.png" alt="Icam" />
      <span>MSI Propales B2</span>
    </a>
    <ul class="nav-links">
      <li><a href="#console" class="active">Console</a></li>
      <li><a href="#showcase">Matrix</a></li>
<<<<<<< HEAD
      <li><a href="https://github.com/TimoLeDozo/msi-pse-C-intranet/tree/main" target="_blank">GitHub</a></li>
=======
      <li><a href="https://github.com/TimoLeDozo/PSE-propales-PlaceHolder" target="_blank" rel="noreferrer">GitHub</a></li>
>>>>>>> feat/frontend-fetch
    </ul>
  </header>

  <main>
    <section class="ops-hero-section">
      <span class="ops-hero-badge">‚ú® PROPALES INSTANTAN√âES</span>
<<<<<<< HEAD
      <h1 class="ops-hero-title">NEURAL PROPALE<br>ENGINE</h1>
      <p class="ops-hero-subtitle">Alimentez l'IA avec vos contextes clients et g√©n√©rez des propositions commerciales d'une rigueur Icam en quelques secondes.</p>
=======
      <h1 class="ops-hero-title">NEURAL PROPALE<br />ENGINE</h1>
      <p class="ops-hero-subtitle">
        Alimentez DeepSeek avec vos contextes clients et g√©n√©rez des propositions commerciales d'une rigueur Icam en quelques secondes.
      </p>
>>>>>>> feat/frontend-fetch

      <div class="ops-stats-grid">
        <div class="ops-stat-card">
          <span class="ops-stat-value">60s</span>
          <span class="ops-stat-label">/ DOCUMENT PR√äT</span>
        </div>
        <div class="ops-stat-card">
          <span class="ops-stat-value">100%</span>
          <span class="ops-stat-label">PLACE HOLDER</span>
        </div>
        <div class="ops-stat-card">
          <span class="ops-stat-value">DeepSeek</span>
          <span class="ops-stat-label">Chat</span>
        </div>
        <div class="ops-stat-card">
          <span class="ops-stat-value">1 Clic</span>
          <span class="ops-stat-label">G√âN√âRATION DOC</span>
        </div>
      </div>

      <div class="ops-cta-group">
        <a href="#console" class="ops-btn-primary" id="btnInitConsole">INITIER LA CONSOLE</a>
        <a href="#showcase" class="ops-btn-secondary">D√âCOUVRIR LES FLUX</a>
      </div>
    </section>

    <section class="console-section" id="console">
      <div class="console-wrapper">
        <div class="console-header">
          <div class="console-header-top">
            <div class="console-logo-wrapper">
              <img class="console-logo" src="https://upload.wikimedia.org/wikipedia/fr/thumb/1/1d/Logo_ICAM_-_2008.svg/1200px-Logo_ICAM_-_2008.svg.png" alt="Icam" />
            </div>
            <div class="console-header-text">
              <h4 class="console-kicker">G√©n√©rateur Propale V2 (Corrig√©)</h4>
              <h2>Console Neural ¬∑ G√©n√©ration de propale</h2>
<<<<<<< HEAD
              <p>Renseignez les zones cl√©s. Toutes les informations sont transmises √† Apps Script qui orchestre la copie du template Google Docs, le remplissage des zones et l'appel √† l'IA.</p>
=======
              <p>
                Renseignez les zones cl√©s. Toutes les informations sont transmises au backend Node.js qui orchestre l'appel IA, puis la g√©n√©ration des documents.
              </p>
>>>>>>> feat/frontend-fetch
            </div>
          </div>
        </div>

        <div class="console-layout">
          <div class="form-panels">

            <div class="glass-panel">
              <div class="panel-title">üìã Informations projet</div>
              <div class="form-grid">
                <div class="field grid-span-2">
                  <label for="f_titre">TITRE *</label>
                  <input type="text" id="f_titre" placeholder="Optimisation flux entrep√¥t" required />
                </div>
                <div class="field grid-span-2">
                  <label for="f_thematique">TH√âMATIQUE</label>
                  <input type="text" id="f_thematique" placeholder="Ex: Logistique, D√©veloppement web, M√©canique..." />
                </div>
                <div class="field">
                  <label for="f_codeProjet">CODE PROJET</label>
                  <input type="text" id="f_codeProjet" placeholder="144-16" />
                </div>
                <div class="field">
                  <label for="f_dateDebut">DATE D√âBUT</label>
                  <input type="date" id="f_dateDebut" />
                </div>
                <div class="field">
                  <label for="f_nbEquipes">NB. √âQUIPES</label>
                  <input type="number" id="f_nbEquipes" value="1" />
                </div>
                <div class="field">
                  <label for="f_dureeSemaines">DUR√âE (SEMAINES)</label>
                  <input type="number" id="f_dureeSemaines" value="24" />
                </div>
              </div>
            </div>

            <div class="glass-panel">
              <div class="panel-title">üè¢ Entreprise & Contexte</div>
              <div class="form-grid">
                <div class="field">
                  <label for="f_entrepriseNom">ENTREPRISE *</label>
                  <input type="text" id="f_entrepriseNom" placeholder="Velibor SA" />
                </div>
                <div class="field">
                  <label for="f_entrepriseAdresse">ADRESSE</label>
                  <input type="text" id="f_entrepriseAdresse" placeholder="49 bis rue Sedaine, 75011 Paris" />
                </div>
                <div class="field">
                  <label for="f_entrepriseLogo">LOGO URL (MAPPED #D9D9D9)</label>
                  <input type="text" id="f_entrepriseLogo" placeholder="https://exemple.com/logo.png" />
                </div>
                <div class="field">
                  <label for="f_clientNom">NOM CONTACT</label>
                  <input type="text" id="f_clientNom" placeholder="Jean Dupont" />
                </div>
                <div class="field">
                  <label for="f_clientFonction">FONCTION</label>
                  <input type="text" id="f_clientFonction" placeholder="Directeur Technique" />
                </div>
                <div class="field">
                  <label for="f_clientEmail">EMAIL</label>
                  <input type="text" id="f_clientEmail" placeholder="jean@exemple.com" />
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>HISTOIRE & ADN CLIENT (CONTEXTE B2)</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_ia_histoire">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_ia_histoire"></span>
                    </div>
                  </div>
                  <textarea id="f_ia_histoire" rows="2" placeholder="Ex: PME familiale cr√©√©e en 1970, savoir-faire artisanal..."></textarea>
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>LIEUX / G√âOGRAPHIE (CONTEXTE B2)</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_ia_lieux">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_ia_lieux"></span>
                    </div>
                  </div>
                  <input type="text" id="f_ia_lieux" placeholder="Ex: D√©m√©nagement de Brie-Comte-Robert √† Moissy" />
                </div>
              </div>
            </div>

            <div class="glass-panel">
              <div class="panel-title">üß† Brief pour l'IA</div>
              <div class="form-grid">
                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>PROBL√àME PRINCIPAL *</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_ia_probleme">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_ia_probleme">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_ia_probleme" placeholder="Retards de livraison, manque de tra√ßabilit√©..."></textarea>
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>SOLUTION PROPOS√âE</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_ia_solution">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_ia_solution">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_ia_solution" placeholder="5S, outil de tracking, formation √©quipes..."></textarea>
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>OBJECTIFS CL√âS</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_ia_objectifs">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_ia_objectifs">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_ia_objectifs" placeholder="R√©duire de 20% les temps de pr√©paration, etc."></textarea>
                </div>
              </div>
            </div>

            <div class="glass-panel">
              <div class="panel-title">ü§ñ Sections g√©n√©r√©es par l'IA</div>
              <div class="form-grid">
                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>CONTEXTE</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_contexte">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_contexte">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_contexte" placeholder="(G√©n√©r√© / √âdition manuelle possible)"></textarea>
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>D√âMARCHE</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_demarche">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_demarche">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_demarche" placeholder="(G√©n√©r√© / √âdition manuelle possible)"></textarea>
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>PHASES</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_phases">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_phases">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_phases" placeholder="(G√©n√©r√© / √âdition manuelle possible)"></textarea>
                </div>

                <div class="field grid-span-2">
                  <div class="field-header">
                    <label>PHRASE DE CL√îTURE</label>
                    <div class="field-actions">
                      <button type="button" class="dictation-button" data-target="f_phrase">üéôÔ∏è DICTER</button>
                      <span class="dict-status" id="status-f_phrase">PR√äT.</span>
                    </div>
                  </div>
                  <textarea id="f_phrase" rows="2" placeholder="(G√©n√©r√© / √âdition manuelle possible)"></textarea>
                </div>
              </div>

              <div class="actions">
                <div class="action-buttons">
                  <button type="button" id="btnPreview" class="ops-btn-primary">‚ú® Lancer l'IA & Pr√©visualiser</button>
                  <button type="button" id="btnGenerate">‚ú® G√âN√âRER LA PROPALE</button>
                </div>
              </div>
            </div>

            <div class="glass-panel">
              <div class="panel-title">üìé Pi√®ces jointes & outils</div>
              <div class="form-grid">
                <div class="field grid-span-2">
                  <label>AJOUTER DES DOCUMENTS (JUSQU'√Ä 15)</label>
<<<<<<< HEAD
                  <div class="upload-container" id="uploadContainer" style="background:rgba(0,0,0,0.3); padding:20px; border-radius:16px; display:flex; align-items:center; gap:20px; cursor:pointer; border:1px dashed rgba(255,255,255,0.2);">
                    <div style="background:rgba(255,255,255,0.1); padding:10px 20px; border-radius:8px; font-weight:600;">S√©lect. fichiers</div>
                    <div style="color:rgba(255,255,255,0.6); font-size:0.85rem;" id="fileLabel">Aucun fichier choisi</div>
                    <input type="file" id="f_attachments" multiple style="display:none">
                  </div>
=======

                  <div class="upload-container" id="uploadContainer">
                    <div class="upload-button">S√©lect. fichiers</div>
                    <div class="upload-label" id="fileLabel">Aucun fichier choisi</div>
                    <input type="file" id="f_attachments" multiple hidden />
                  </div>

>>>>>>> feat/frontend-fetch
                  <p class="files-hint" id="filesHint">Aucun fichier s√©lectionn√© (0/15).</p>
                  <ul id="attachmentsList" class="attachments-list"></ul>
                </div>
              </div>
            </div>

          </div>

          <aside class="results-column">
            <section class="insights-panel">
              <div class="insights-pinned-header">
                <h3>üìü PILOTAGE & JOURNALISATION</h3>
                <p>Suivez l'√©tat de la g√©n√©ration, le suivi des co√ªts et les derniers √©v√®nements.</p>
              </div>

              <div class="result-status">
                <span class="status-main meta">STATUT EN DIRECT</span>
                <span class="status-text" id="statusMain">Pr√™t pour une nouvelle g√©n√©ration.</span>
                <span class="token-est" id="tokenEstimate">Estimation prompt ‚âà 0 tokens (limite 100000)</span>

                <div class="generation-progress">
                  <div class="generation-progress-bar">
                    <div class="generation-progress-fill" id="progressFill"></div>
                  </div>
                </div>
              </div>

              <div class="insight-block">
                <h4 class="insight-title">PR√âVISUALISATION</h4>
                <a href="https://docs.google.com/spreadsheets/d/1OsDoqbwu1zrC0SgaMOwRbOJRTUm0QDsbJMSlpaFUwOk/edit?gid=0#gid=0"
                   class="cost-log-link" id="costLogBtn" target="_blank" rel="noreferrer">üìä Journal des co√ªts</a>
                <pre class="result-preview" id="consoleLog">Syst√®me pr√™t.</pre>
              </div>

              <div class="insight-block">
                <h4 class="insight-title">HISTORIQUE DES ACTIONS</h4>
                <ul class="result-history" id="historyList">
                  <li class="result-item">Historique vide pour le moment.</li>
                </ul>
              </div>

<<<<<<< HEAD
              <div style="margin-top:30px;">
                <h4 style="font-size:0.8rem; color:rgba(255,255,255,0.6); text-transform:uppercase; margin-bottom:10px;">CONSEILS RAPIDES</h4>
                <ul style="font-size:0.85rem; color:rgba(255,255,255,0.5); padding-left:20px; line-height:1.5;">
                  <li>Pr√©cisez le probl√®me principal pour guider l'IA.</li>
=======
              <div class="insight-block">
                <h4 class="insight-title">CONSEILS RAPIDES</h4>
                <ul class="tips">
                  <li>Pr√©cisez le probl√®me principal pour guider DeepSeek.</li>
>>>>>>> feat/frontend-fetch
                  <li>Ajoutez des documents cl√©s pour la mise en contexte.</li>
                  <li>Consultez le journal Google Sheets pour suivre les co√ªts.</li>
                </ul>
              </div>

              <div id="resultLinks" class="result-links" style="display:none;">
                <a href="#" id="docLink" target="_blank" rel="noreferrer" class="cost-log-link result-doc">üìÑ Ouvrir GDoc</a>
                <a href="#" id="pdfLink" target="_blank" rel="noreferrer" class="cost-log-link">‚¨áÔ∏è T√©l√©charger PDF</a>
              </div>
            </section>
          </aside>
        </div>
      </div>
    </section>

    <section class="showcase" id="showcase">
      <h2 class="section-title">Matrix Protocols</h2>
      <div class="hexagon-container">
<<<<<<< HEAD
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üîÆ</div><h4>Holographic UI</h4><p>Interface monofichier pr√™te pour Apps Script</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üõ°Ô∏è</div><h4>Quantum Security</h4><p>Cl√© IA stock√©e c√¥t√© serveur</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üöÄ</div><h4>Speed Navigation</h4><p>Acc√®s direct au document g√©n√©r√©</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üíé</div><h4>Crystal Storage</h4><p>Copie organis√©e dans Drive cible</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üéØ</div><h4>Neural Targeting</h4><p>Remplacement de texte par Place holder</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">‚≠ê</div><h4>Stellar Network</h4><p>Workflow collaboratif Icam</p></div></div>
=======
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üîÆ</div><h4>Holographic UI</h4><p>Interface refactoris√©e (assets s√©par√©s)</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üõ°Ô∏è</div><h4>Server Security</h4><p>Cl√© DeepSeek c√¥t√© serveur (.env)</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üöÄ</div><h4>Speed Navigation</h4><p>Acc√®s direct au document g√©n√©r√©</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üíé</div><h4>Crystal Storage</h4><p>Outputs organis√©s c√¥t√© serveur</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">üéØ</div><h4>Neural Targeting</h4><p>Color mapping intelligent</p></div></div>
        <div class="hexagon"><div class="hexagon-bg"></div><div class="hexagon-content"><div class="hexagon-icon">‚≠ê</div><h4>Stellar Network</h4><p>Workflow collaboratif</p></div></div>
>>>>>>> feat/frontend-fetch
      </div>
    </section>
  </main>

  <footer>
    <div>&copy; 2025 MSI Propales ¬∑ Node/Express ¬∑ Icam</div>
    <div style="margin-top: 5px;">CAGIN Timoth√© / VELOSO Toni</div>
  </footer>

  <!-- MODALE G√âN√âRATION -->
  <div id="generationModal" class="modal-overlay" style="display: none;">
    <div class="modal-content glass-panel">
<<<<<<< HEAD
      <button class="modal-close" id="btnCloseGenerationModal">√ó</button>
=======
      <button class="modal-close" id="btnCloseGeneration">√ó</button>
>>>>>>> feat/frontend-fetch

      <div id="modalLoading" class="modal-state">
        <div class="neural-spinner"></div>
        <h3 class="modal-title">Neural Engine Active</h3>
        <p class="modal-status" id="modalStatusText">Initialisation du flux...</p>
        <div id="modalPercentText" class="modal-percent">0%</div>
        <div class="modal-progress-track">
          <div class="modal-progress-bar" id="modalProgressBar"></div>
        </div>
      </div>

      <div id="modalSuccess" class="modal-state" style="display: none;">
        <div class="success-icon">‚ú®</div>
        <h3 class="modal-title">Propale G√©n√©r√©e</h3>
        <p class="modal-desc">Le document a √©t√© cr√©√© et stock√© avec succ√®s.</p>
        <div class="modal-actions">
          <a href="#" id="modalDocLink" target="_blank" rel="noreferrer" class="ops-btn-primary">OUVRIR LE DOCUMENT</a>
          <a href="#" id="modalPdfLink" target="_blank" rel="noreferrer" class="cost-log-link">T√©l√©charger PDF</a>
        </div>
      </div>

      <div id="modalError" class="modal-state" style="display: none;">
<<<<<<< HEAD
         <div class="error-icon">‚ö†Ô∏è</div>
         <h3 class="modal-title">Erreur Critique</h3>
         <p class="modal-desc" id="modalErrorText">Une erreur est survenue.</p>
         <button id="btnCloseModalError" class="ops-btn-secondary">FERMER</button>
=======
        <div class="error-icon">‚ö†Ô∏è</div>
        <h3 class="modal-title">Erreur Critique</h3>
        <p class="modal-desc" id="modalErrorText">Une erreur est survenue.</p>
        <button id="btnCloseModal" class="ops-btn-secondary">FERMER</button>
>>>>>>> feat/frontend-fetch
      </div>
    </div>
  </div>

  <!-- MODALE PREVIEW -->
  <div id="previewModal" class="modal-overlay" style="display: none;">
<<<<<<< HEAD
    <div class="modal-content glass-panel" style="width: min(800px, 94vw); text-align: left; max-height: 90vh; overflow-y: auto;">
      <button class="modal-close" id="btnClosePreviewModal">√ó</button>
=======
    <div class="modal-content glass-panel preview-modal">
      <button class="modal-close" id="btnClosePreview">√ó</button>
>>>>>>> feat/frontend-fetch

      <h3 class="modal-title preview-title">Proposition de l'IA</h3>

      <div class="form-grid">
        <div class="field grid-span-2">
          <label for="p_titre">Titre</label>
          <textarea id="p_titre" rows="1"></textarea>
        </div>
        <div class="field grid-span-2">
          <label for="p_contexte">Contexte</label>
          <textarea id="p_contexte"></textarea>
        </div>
        <div class="field grid-span-2">
          <label for="p_demarche">D√©marche</label>
          <textarea id="p_demarche"></textarea>
        </div>
        <div class="field grid-span-2">
          <label for="p_phases">Phases</label>
          <textarea id="p_phases"></textarea>
        </div>
        <div class="field grid-span-2">
          <label for="p_phrase">Phrase de conclusion</label>
          <textarea id="p_phrase" rows="2"></textarea>
        </div>
      </div>

<<<<<<< HEAD
      <div class="actions" style="margin-top: 20px; display: flex; justify-content: center; gap: 15px;">
         <button class="ops-btn-secondary" id="btnBackToBrief">‚ùå Revenir au brief</button>
         <button class="ops-btn-primary" id="btnValidatePreview">üìÑ Valider & G√©n√©rer les documents</button>
      </div>
    </div>
  </div>

  <script src="assets/css/js/app.js"></script>
=======
      <div class="actions preview-actions">
        <button class="ops-btn-secondary" id="btnBackToBrief">‚ùå Revenir au brief</button>
        <button class="ops-btn-primary" id="btnValidatePreview">üìÑ Valider & G√©n√©rer les documents</button>
      </div>
    </div>
  </div>
>>>>>>> feat/frontend-fetch
</body>
</html>
