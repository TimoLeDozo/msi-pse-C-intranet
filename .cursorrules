# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MSI PROPALES - Configuration Cursor + BMAD + Swagger
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## IDENTITÃ‰ PROJET
**MSI Propales** - GÃ©nÃ©rateur de propositions commerciales IA
DÃ©veloppÃ© par Tim (Icam) | Deadline : Jury MSI

## STACK
- Backend: Node.js 20+ / Express 5.x
- IA: Ollama (qwen2.5:14b)
- Documents: docxtemplater + pizzip + libreoffice-convert
- Auth: bcrypt + express-session
- Frontend: HTML/CSS/JS vanilla (Neural UI)

## ARCHITECTURE HEXAGONALE
```
adapters/    â†’ I/O uniquement (API, fichiers)
usecases/    â†’ Logique mÃ©tier pure
controllers/ â†’ Orchestration HTTP
routes/      â†’ DÃ©finition endpoints
services/    â†’ Utilitaires partagÃ©s
prompts/     â†’ Prompts IA
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# PROTOCOLE BMAD (Brainstorm â†’ Manage â†’ Architect â†’ Develop)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Commandes BMAD

| Commande | Phase | Action |
|----------|-------|--------|
| `[BMAD:1]` | Analyst | Explorer une idÃ©e â†’ BRAINSTORM.md |
| `[BMAD:2]` | PM | Structurer en Epics/Stories â†’ PRD.md |
| `[BMAD:3]` | Architect | DÃ©finir la technique â†’ ARCHITECTURE.md |
| `[BMAD:4]` | Developer | ImplÃ©menter UNE Story â†’ Code + Tests |

## RÃ¨gles BMAD
1. **Une phase Ã  la fois** - Ne jamais mÃ©langer
2. **Output = fichier .md** - Toujours gÃ©nÃ©rer un artefact
3. **Reset entre phases** - Recharger le .md, pas la mÃ©moire
4. **Story par Story** - En phase 4, une seule User Story Ã  la fois

## Pour projet existant (MSI Propales)
- Sauter phases 1-2 si feature simple
- Utiliser `[BMAD:3]` pour dÃ©finir l'architecture d'une nouvelle feature
- Utiliser `[BMAD:4]` pour implÃ©menter

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AGENTS SPÃ‰CIALISÃ‰S
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## `[AGENT:ARCHITECT]`
Vision & Structure. Diagrammes Mermaid, justification technique.
Output: ARCHITECTURE.md ou rÃ©ponse structurÃ©e.

## `[AGENT:CODER]`
ImplÃ©mentation. Code COMPLET, jamais de "// TODO".
ES Modules, async/await, try/catch, commentaires franÃ§ais.

## `[AGENT:DEBUG]`
Format: ğŸ”´ ERREUR â†’ ğŸ“ LOCALISATION â†’ ğŸ” CAUSE â†’ âœ… SOLUTION â†’ ğŸ›¡ï¸ PRÃ‰VENTION

## `[AGENT:DOC]`
Documentation Swagger, JSDoc, README.
Exemples requÃªtes/rÃ©ponses obligatoires.

## `[AGENT:TEST]`
Tests Jest + Supertest. Mocks pour APIs externes.
Coverage > 70%.

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DOCUMENTATION SWAGGER
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Commandes Swagger

| Commande | Action |
|----------|--------|
| `[DOC:swagger-setup]` | Configurer Swagger complet |
| `[DOC:endpoint:XXX]` | Documenter l'endpoint XXX |
| `[DOC:schema:XXX]` | CrÃ©er le schÃ©ma OpenAPI XXX |
| `[DOC:swagger-sync]` | Synchroniser doc avec le code |

## Format JSDoc Swagger
```javascript
/**
 * @swagger
 * /api/xxx:
 *   post:
 *     summary: Description courte
 *     tags: [TagName]
 *     requestBody:
 *       required: true
 *       content:
 *         application/json:
 *           schema:
 *             $ref: '#/components/schemas/SchemaName'
 *     responses:
 *       200:
 *         description: SuccÃ¨s
 */
```

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# COMMANDES RAPIDES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

| Commande | Action |
|----------|--------|
| `[STATUS]` | Diagnostic complet du projet |
| `[FIX:fichier]` | Corriger le fichier spÃ©cifiÃ© |
| `[IMPL:feature]` | ImplÃ©menter la feature |
| `[TEST:fichier]` | GÃ©nÃ©rer les tests pour le fichier |

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CONVENTIONS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

- Code complet, jamais de snippets partiels
- Toujours indiquer le chemin du fichier
- Commentaires en franÃ§ais
- Respecter le style existant
- Signaler les incohÃ©rences dÃ©tectÃ©es

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# FICHIERS CRITIQUES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

- `middleware/requireAuth.js` â†’ Auth session
- `usecases/generateProposal.usecase.js` â†’ CÅ“ur mÃ©tier
- `usecases/previewProposal.usecase.js` â†’ Preview IA
- `config/swagger.config.js` â†’ Config Swagger
